<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Changelog • SelfControlledCaseSeries</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">SelfControlledCaseSeries</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">6.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/MultipleAnalyses.html">Running multiple analyses at once using the SelfControlledCaseSeries package</a></li>
    <li><a class="dropdown-item" href="../articles/ResultsSchema.html">Results schema of the SelfControlledCaseSeries package</a></li>
    <li><a class="dropdown-item" href="../articles/SingleStudies.html">Single studies using the SelfControlledCaseSeries package</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://ohdsi.github.io/Hades"><img src='https://ohdsi.github.io/Hades/images/hadesMini.png' width=80 height=17 style='vertical-align: top;'></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/OHDSI/SelfControlledCaseSeries/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-news">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Changelog</h1>
      <small>Source: <a href="https://github.com/OHDSI/SelfControlledCaseSeries/blob/HEAD/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="pkg-version" data-toc-text="6.0.0" id="selfcontrolledcaseseries-600">SelfControlledCaseSeries 6.0.0<a class="anchor" aria-label="anchor" href="#selfcontrolledcaseseries-600"></a></h2>
<p>This major release introduces two overall changes: adding a new set of diagnostics, and new settings objects.</p>
<p>Changes related to adding new diagnostics:</p>
<ol style="list-style-type: decimal"><li><p>Deprecated <code><a href="../reference/computeTimeStability.html">computeTimeStability()</a></code> and <code><a href="../reference/computePreExposureGainP.html">computePreExposureGainP()</a></code> functions.</p></li>
<li><p>Added the <code><a href="../reference/checkTimeStabilityAssumption.html">checkTimeStabilityAssumption()</a></code>, <code><a href="../reference/checkEventObservationIndependenceAssumption.html">checkEventObservationIndependenceAssumption()</a></code>, <code><a href="../reference/checkEventExposureIndependenceAssumption.html">checkEventExposureIndependenceAssumption()</a></code> and <code><a href="../reference/checkRareOutcomeAssumption.html">checkRareOutcomeAssumption()</a></code> functions. These implement diagnostics for the four major assumptions of the SCCS design.</p></li>
<li><p>Added the <code>endOfObservationEraLength</code> argument to the <code><a href="../reference/createSccsIntervalData.html">createSccsIntervalData()</a></code> function, which defaults to 30. This adds a probe window at the end of the observation period. The estimate for this window is used by the <code><a href="../reference/checkEventExposureIndependenceAssumption.html">checkEventExposureIndependenceAssumption()</a></code> diagnostic.</p></li>
<li><p>Added the <code>preExposure</code> argument to the <code><a href="../reference/createEraCovariateSettings.html">createEraCovariateSettings()</a></code> function, which defaults to <code>start &lt; 0</code>. This can be used to designate one or more windows as the pre-exposure window, used by the <code><a href="../reference/checkEventExposureIndependenceAssumption.html">checkEventExposureIndependenceAssumption()</a></code> diagnostic.</p></li>
<li><p>Moved the <code>sccsDiagnosticThresholds</code> from <code><a href="../reference/exportToCsv.html">exportToCsv()</a></code> to <code><a href="../reference/runSccsAnalyses.html">runSccsAnalyses()</a></code>.</p></li>
<li><p>Estimates that fail diagnostics are now removed before empirical calibration, not afterwards. This in general should lead to narrower calibrated confidence intervals.</p></li>
<li><p>Added the <code><a href="../reference/getDiagnosticsSummary.html">getDiagnosticsSummary()</a></code> function.</p></li>
</ol><p>Changes related to the new settings objects:</p>
<ol start="8" style="list-style-type: decimal"><li><p>All settings objects have been changed to R6 objects. This should make it easier for external developers to generate valid settings JSON files.</p></li>
<li><p>All individual analytic functions (<code><a href="../reference/getDbSccsData.html">getDbSccsData()</a></code>, <code>createStudyPopulationArgs()</code>, <code><a href="../reference/createSccsIntervalData.html">createSccsIntervalData()</a></code>, <code><a href="../reference/createScriIntervalData.html">createScriIntervalData()</a></code>, <code><a href="../reference/fitSccsModel.html">fitSccsModel()</a></code>) now use the setting objects as arguments. This is to remove code duplication, and increase consistency between single study and multi-analyses frameworks.</p></li>
<li><p>The analysis settings of <code><a href="../reference/runSccsAnalyses.html">runSccsAnalyses()</a></code> have been combined in a <code>SccsAnalysesSpecifications</code> object that can be created using the new <code><a href="../reference/createSccsAnalysesSpecifications.html">createSccsAnalysesSpecifications()</a></code> function.</p></li>
</ol><p>Other changes:</p>
<ol start="11" style="list-style-type: decimal"><li><p>Removed deprecated <code>useCustomCovariates</code>, <code>useNestingCohort</code>, <code>studyStartDate</code>, and <code>studyEndDate</code> arguments of <code><a href="../reference/getDbSccsData.html">getDbSccsData()</a></code> and <code><a href="../reference/createGetDbSccsDataArgs.html">createGetDbSccsDataArgs()</a></code>.</p></li>
<li><p>Removed deprecated <code>minCasesForAgeSeason</code> of <code><a href="../reference/createSccsIntervalData.html">createSccsIntervalData()</a></code> and <code><a href="../reference/createCreateSccsIntervalDataArgs.html">createCreateSccsIntervalDataArgs()</a></code>.</p></li>
<li><p>Removed <code>cdmVersion</code> argument from the <code><a href="../reference/getDbSccsData.html">getDbSccsData()</a></code> and <code><a href="../reference/runSccsAnalyses.html">runSccsAnalyses()</a></code> functions.</p></li>
</ol></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="5.3.3" id="selfcontrolledcaseseries-533">SelfControlledCaseSeries 5.3.3<a class="anchor" aria-label="anchor" href="#selfcontrolledcaseseries-533"></a></h2>
<p>Bugfixes</p>
<ol style="list-style-type: decimal"><li><p>Fixed another error in calendar time splines when there are cases, but not in the study period, but only after restricting to first outcome only.</p></li>
<li><p>Fixed bug in attrition table that could lead to non-integer observed days.</p></li>
<li><p>Adding support for Andromeda 1.0.0.</p></li>
</ol></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="5.3.2" id="selfcontrolledcaseseries-532">SelfControlledCaseSeries 5.3.2<a class="anchor" aria-label="anchor" href="#selfcontrolledcaseseries-532"></a></h2>
<p>Bugfixes</p>
<ol style="list-style-type: decimal"><li>Fixed error in calendar time splines when there are cases, but not in the study period.</li>
</ol></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="5.3.1" id="selfcontrolledcaseseries-531">SelfControlledCaseSeries 5.3.1<a class="anchor" aria-label="anchor" href="#selfcontrolledcaseseries-531"></a></h2>
<p>Bugfixes</p>
<ol style="list-style-type: decimal"><li><p>Fixed (near) infinite loop when using end-of-observation dependence correction and weighting function is poorly integrable.</p></li>
<li><p>Changed computation of p-value for time-trend to be more robust against extreme time trends.</p></li>
</ol></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="5.3.0" id="selfcontrolledcaseseries-530">SelfControlledCaseSeries 5.3.0<a class="anchor" aria-label="anchor" href="#selfcontrolledcaseseries-530"></a></h2>
<p>Changes</p>
<ol style="list-style-type: decimal"><li>Added <code>controlType</code> argument to <code><a href="../reference/runSccsAnalyses.html">runSccsAnalyses()</a></code>, explicitly setting the type of (negative) controls: outcome controls or exposure controls. Setting to “outcome” (the default) will now group by exposure (and nesting cohort if defined).</li>
</ol></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="5.2.3" id="selfcontrolledcaseseries-523">SelfControlledCaseSeries 5.2.3<a class="anchor" aria-label="anchor" href="#selfcontrolledcaseseries-523"></a></h2>
<p>Changes</p>
<ol style="list-style-type: decimal"><li><p>More informative error messages when analysis specifications are inconsistent.</p></li>
<li><p>Throwing error when defining an analysis that does not specify at least one era covariate that is the exposure of interest.</p></li>
<li><p>The <code>includeEraIds</code> argument of <code><a href="../reference/createEraCovariateSettings.html">createEraCovariateSettings()</a></code> no longer has a default, forcing users to explicitly set this to avoid erroneously specifying all covariates.</p></li>
</ol><p>Bugfixes</p>
<ol style="list-style-type: decimal"><li><p>Fixed ‘ORDER BY is ignored in subqueries without LIMIT’ warning when calling <code><a href="../reference/createSccsIntervalData.html">createSccsIntervalData()</a></code>.</p></li>
<li><p>Fixed ‘std::bad_alloc’ error when any observation period start date is before 1970.</p></li>
<li><p>Fixed NA covariate values when age, season, or calendar time splines are removed because there are fewer cases than knots.</p></li>
</ol></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="5.2.2" id="selfcontrolledcaseseries-522">SelfControlledCaseSeries 5.2.2<a class="anchor" aria-label="anchor" href="#selfcontrolledcaseseries-522"></a></h2>
<p>Bugfixes</p>
<ol style="list-style-type: decimal"><li>Fix export when there are multiple exposure-outcomes per SCCS data file.</li>
</ol></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="5.2.1" id="selfcontrolledcaseseries-521">SelfControlledCaseSeries 5.2.1<a class="anchor" aria-label="anchor" href="#selfcontrolledcaseseries-521"></a></h2>
<p>Bugfixes</p>
<ol style="list-style-type: decimal"><li>Fix <code>exposures_outcome_set_id</code> field in ‘sccs_exposure’ and ‘sccs_exposures_outcome_set’ tables.</li>
</ol></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="5.2.0" id="selfcontrolledcaseseries-520">SelfControlledCaseSeries 5.2.0<a class="anchor" aria-label="anchor" href="#selfcontrolledcaseseries-520"></a></h2>
<p>Changes</p>
<ol style="list-style-type: decimal"><li>Switching <code>exposures_outcome_set_id</code> from a sequential number to a hash to avoid issues when dividing a set of analyses over various machines, and combining the results later.</li>
</ol><p>Bugfixes</p>
<ol style="list-style-type: decimal"><li><p>Fixed error in SQL about “#case_in_period”.</p></li>
<li><p>Fixed case count in <code><a href="../reference/createStudyPopulation.html">createStudyPopulation()</a></code> when restricting time in prior <code><a href="../reference/getDbSccsData.html">getDbSccsData()</a></code> call, e.g. by defining a study period and/or nesting cohort.</p></li>
<li><p>Preventing duplicate calendar time and age knots, causing unique key violation errors when uploading.</p></li>
</ol></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="5.1.1" id="selfcontrolledcaseseries-511">SelfControlledCaseSeries 5.1.1<a class="anchor" aria-label="anchor" href="#selfcontrolledcaseseries-511"></a></h2>
<p>Bugfixes</p>
<ol style="list-style-type: decimal"><li>Fixed ‘oneSidedP not found’ error when unable to fit a model.</li>
</ol></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="5.1.0" id="selfcontrolledcaseseries-510">SelfControlledCaseSeries 5.1.0<a class="anchor" aria-label="anchor" href="#selfcontrolledcaseseries-510"></a></h2>
<p>Changes</p>
<ol style="list-style-type: decimal"><li><p>Allowing nesting cohort ID to be specified as part of the exposure-outcome pair.</p></li>
<li><p>Deprecating the <code>useCustomCovariates</code> and <code>useNestingCohort</code> arguments of the <code><a href="../reference/getDbSccsData.html">getDbSccsData()</a></code> function.</p></li>
<li><p>Optimized <code><a href="../reference/runSccsAnalyses.html">runSccsAnalyses()</a></code> to allow running bigger sets of analyses.</p></li>
<li><p>Adding <code>sccs_time_period</code> table to export, capturing the calendar time period included in the analysis.</p></li>
<li><p>Adding one-sided (calibrated) p-values to results summary and results model.</p></li>
<li><p><code><a href="../reference/exportToCsv.html">exportToCsv()</a></code> can now use multithreading for speed.</p></li>
<li><p>Adding <code>unblindForEvidenceSynthesis</code> field to <code>sccs_diagnostics_summary_table</code>.</p></li>
<li><p>Unblinding logic now same as for <code>CohortMethod</code>: also unblind if a diagnostic is not evaluated (instead of only unblinding when passing).</p></li>
</ol><p>Bugfixes</p>
<ol style="list-style-type: decimal"><li><p>Handling edge case in <code><a href="../reference/computeTimeStability.html">computeTimeStability()</a></code> when there is only 1 month.</p></li>
<li><p>Correcting computation of fraction of start month observed for <code><a href="../reference/computeTimeStability.html">computeTimeStability()</a></code> (was off by 1/31).</p></li>
</ol></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="5.0.0" id="selfcontrolledcaseseries-500">SelfControlledCaseSeries 5.0.0<a class="anchor" aria-label="anchor" href="#selfcontrolledcaseseries-500"></a></h2>
<p>Changes</p>
<ol style="list-style-type: decimal"><li><p>Added the <code>restrictTimeToEraId</code> argument to the <code><a href="../reference/createStudyPopulation.html">createStudyPopulation()</a></code> and <code><a href="../reference/createCreateStudyPopulationArgs.html">createCreateStudyPopulationArgs()</a></code> functions to allow automatically restricting study time to when the exposure was observed (e.g. when the drug was on the market).</p></li>
<li><p>Switching from cubic to quadratic splines for age, season, and calendar time to reduce degrees of freedom.</p></li>
<li><p>Deprecating the <code>studyStartDate</code> and <code>studyEndDate</code> arguments of the <code><a href="../reference/getDbSccsData.html">getDbSccsData()</a></code> function.</p></li>
<li><p>Introducing the <code>studyStartDates</code> and <code>studyEndDates</code> arguments of the <code><a href="../reference/getDbSccsData.html">getDbSccsData()</a></code> function. These allow specification of multiple (non-overlapping) study periods. This can for example be useful when one wishes to exclude the time of the COVID-19 pandemic to avoid temporal instability.</p></li>
<li><p>The spline for calendar time effects can now be multi-segmented, for multiple study periods. Internal knots are evenly distributed over segments based on the amount of data per segment. Additional boundary knots are automatically added for additional segments.</p></li>
<li><p>Changed the stability metric implemented in the <code><a href="../reference/computeTimeStability.html">computeTimeStability()</a></code> function in two ways: First, the observed rate of the outcome for each month is now compared against the expected rate. This expected rate considers which persons were observed during that month, and if specified, the adjustment for season and calendar time. Second, instead of considering whether any single month exceeded the threshold, the metric now considers whether the mean ratio across all months exceeds the threshold. Together, this makes the metric more robust, and less likely to declare instability when the majority of data is stable.</p></li>
<li><p>Changed the <code><a href="../reference/plotEventToCalendarTime.html">plotEventToCalendarTime()</a></code> to show the observed-to-expected ratio, both with and without adjustments for season and calendar time (if specified in the model).</p></li>
</ol><p>Bugfix</p>
<ol style="list-style-type: decimal"><li>Using BIGINT when summing patient days to avoid errors when populations are large.</li>
</ol></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="4.2.0" id="selfcontrolledcaseseries-420">SelfControlledCaseSeries 4.2.0<a class="anchor" aria-label="anchor" href="#selfcontrolledcaseseries-420"></a></h2>
<p>Changes</p>
<ol style="list-style-type: decimal"><li><p>Adding the <code>genderConceptIds</code> argument to <code><a href="../reference/createStudyPopulation.html">createStudyPopulation()</a></code>.</p></li>
<li><p>Dropping dependency on <code>survival</code>.</p></li>
</ol><p>Bugfix</p>
<ol style="list-style-type: decimal"><li><p>Handling edge case in <code><a href="../reference/computeMdrr.html">computeMdrr()</a></code> when all observed time is exposed. (Returning <code>Inf</code> instead of throwing an error.)</p></li>
<li><p>Not ignoring <code>allowRegularization</code> in calendar time settings.</p></li>
<li><p>When person has multiple nesting cohort entries, prevent double-counting of cases in attrition table if nesting cohort entries have no outcome.</p></li>
</ol></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="4.1.0" id="selfcontrolledcaseseries-410">SelfControlledCaseSeries 4.1.0<a class="anchor" aria-label="anchor" href="#selfcontrolledcaseseries-410"></a></h2>
<p>Changes</p>
<ol style="list-style-type: decimal"><li>The <code>studyStartDate</code> and <code>studyEndDate</code> arguments have been changed back to strings instead of dates to facilitate easier conversion to and from JSON.</li>
</ol><p>Bug fixes</p>
<ol style="list-style-type: decimal"><li>Minor fix related to upcoming DatabaseConnector V6.0.0.</li>
</ol></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="4.0.0" id="selfcontrolledcaseseries-400">SelfControlledCaseSeries 4.0.0<a class="anchor" aria-label="anchor" href="#selfcontrolledcaseseries-400"></a></h2>
<p>Changes</p>
<ol style="list-style-type: decimal"><li><p>Removing deprecated <code>oracleTempSchema</code> argument from <code><a href="../reference/getDbSccsData.html">getDbSccsData()</a></code> and <code><a href="../reference/runSccsAnalyses.html">runSccsAnalyses()</a></code> functions.</p></li>
<li><p>Adding checking of user input to all functions.</p></li>
<li><p>The <code>studyStartDate</code> and <code>studyEndDate</code> arguments of the <code><a href="../reference/getDbSccsData.html">getDbSccsData()</a></code> function have been changed from character to Date type.</p></li>
<li><p>Dropping support of split points. This can be achieved by creating multiple era covariates with different times at risk.</p></li>
<li><p>The <code><a href="../reference/computeMdrr.html">computeMdrr()</a></code> now works with either an <code>SccsIntervalData</code> or an <code>SccsModel</code> object.</p></li>
<li>
<p>Major overhaul of the multiple-analyses framework:</p>
<ul><li><p>Added the <code><a href="../reference/createExposure.html">createExposure()</a></code> function for creating objects of type `exposure. This argument allows specifying the true effect size of the exposure, if known (e.g. for negative controls).</p></li>
<li><p>The <code>createExposureOutcome()</code> function has been replaced with the <code><a href="../reference/createExposuresOutcome.html">createExposuresOutcome()</a></code> function, which accepts multiple objects of type <code>exposure</code>.</p></li>
<li><p>The <code><a href="../reference/createEraCovariateSettings.html">createEraCovariateSettings()</a></code> function has a new argument <code>exposureOfInterest</code> which determines if its estimate will be reported in the result summary.</p></li>
<li><p>The results summary table has been pivoted so it now only has one estimate per row. The results summary table is now precomputed as part of <code><a href="../reference/runSccsAnalyses.html">runSccsAnalyses()</a></code>, automatically includes empirically calibrated estimates (if controls have been provided) and can be retrieved using the <code><a href="../reference/getResultsSummary.html">getResultsSummary()</a></code> function.</p></li>
<li><p>The reference table (the output of <code><a href="../reference/runSccsAnalyses.html">runSccsAnalyses()</a></code>) can now always be retrieved using the <code><a href="../reference/getFileReference.html">getFileReference()</a></code> function.</p></li>
<li><p>Dropping <code>exposureType</code> and <code>outcomeType</code> options from the <code><a href="../reference/createSccsAnalysis.html">createSccsAnalysis ()</a></code> function, since the notion of analysis-specific exposure and outcome selection strategies can also be implemented using the <code>analysesToExclude</code> argument of <code><a href="../reference/runSccsAnalyses.html">runSccsAnalyses()</a></code>.</p></li>
<li><p>Settings related to multi-threading are combined in to a single settings object that be created using the new <code><a href="../reference/createSccsMultiThreadingSettings.html">createSccsMultiThreadingSettings()</a></code> function.</p></li>
<li><p>The <code>design</code> argument of the <code><a href="../reference/createSccsAnalysis.html">createSccsAnalysis()</a></code> function has been removed, and the <code>createSccsIntervalDataArgs</code> and <code>createScriIntervalDataArgs</code> arguments have been replaced with a single <code>createIntervalDataArgs</code> argument that accepts arguments for both the <code><a href="../reference/createSccsIntervalData.html">createSccsIntervalData()</a></code> and createScriIntervalData()` functions.</p></li>
</ul></li>
<li><p>Added the <code><a href="../reference/exportToCsv.html">exportToCsv()</a></code> function, to export the results of a multi-analysis study to CSV files for sharing between sites. The output results model is now documented in a new vignette.</p></li>
</ol></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="3.4.0" id="selfcontrolledcaseseries-340">SelfControlledCaseSeries 3.4.0<a class="anchor" aria-label="anchor" href="#selfcontrolledcaseseries-340"></a></h2>
<p>Changes</p>
<ol style="list-style-type: decimal"><li><p>Setting the <code>deleteCovariatesSmallCount</code> argument to 0 in the <code><a href="../reference/getDbSccsData.html">getDbSccsData()</a></code> and <code><a href="../reference/createGetDbSccsDataArgs.html">createGetDbSccsDataArgs()</a></code> functions. This was originally set to 100 for SCCS analyses with many covariates, but makes no sense when considering only one or a few exposures.</p></li>
<li><p>Adding the <code><a href="../reference/computePreExposureGainP.html">computePreExposureGainP()</a></code> function.</p></li>
<li><p>Setting default <code>maxRatio</code> in <code><a href="../reference/computeTimeStability.html">computeTimeStability()</a></code> to 1.25 (instead of 1.1) to avoid false positives.</p></li>
</ol><p>Bug fixes</p>
<ol style="list-style-type: decimal"><li><p>Fixing “RIGHT and FULL OUTER JOINs are not currently supported” error on SQLite when using <code>drug_era</code> or <code>condition_era</code> table.</p></li>
<li><p>Fixing <code><a href="../reference/computeTimeStability.html">computeTimeStability()</a></code> per-month p-value (was showing the minimum p-value for all months).</p></li>
<li><p>Fixing uncaught errors when fitting models caused by Cyclops’s new return flags.</p></li>
<li><p>Fix error about Andromeda object already being closed when generating SCCS era data.</p></li>
</ol></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="3.3.0" id="selfcontrolledcaseseries-330">SelfControlledCaseSeries 3.3.0<a class="anchor" aria-label="anchor" href="#selfcontrolledcaseseries-330"></a></h2>
<p>Changes</p>
<ol style="list-style-type: decimal"><li><p>Setting the default Cyclops control object to use <code>resetCoefficients = TRUE</code> to ensure we always get the exact same model, irrespective of the number of threads used.</p></li>
<li><p>Added <code>maxRatio</code> argument to <code><a href="../reference/computeTimeStability.html">computeTimeStability()</a></code>.</p></li>
</ol><p>Bug fixes</p>
<ol style="list-style-type: decimal"><li><p>Fixing missing months in <code><a href="../reference/plotEventToCalendarTime.html">plotEventToCalendarTime()</a></code> when there are no observation period starts and ends in those months.</p></li>
<li><p>Now limiting the number of unexposed cases when including only a calendar time spline (as set by <code>minCasesForTimeCovariates</code>).</p></li>
<li><p>Fix error when calling <code><a href="../reference/computeMdrr.html">computeMdrr()</a></code> on an <code>sccsIntervalData</code> object that does not contain the exposure of interest.</p></li>
<li><p>Fixed typo in <code><a href="../reference/computeMdrr.html">computeMdrr()</a></code>, renaming <code>propPopExposued</code> to <code>propPopulationExposed</code>.</p></li>
</ol></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="3.2.1" id="selfcontrolledcaseseries-321">SelfControlledCaseSeries 3.2.1<a class="anchor" aria-label="anchor" href="#selfcontrolledcaseseries-321"></a></h2>
<p>BugFixes</p>
<ol style="list-style-type: decimal"><li>Remove dependency on develop branch of <code>SqlRender</code>.</li>
</ol></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="3.2.0" id="selfcontrolledcaseseries-320">SelfControlledCaseSeries 3.2.0<a class="anchor" aria-label="anchor" href="#selfcontrolledcaseseries-320"></a></h2>
<p>Changes</p>
<ol style="list-style-type: decimal"><li><p>Adding optional calendar time covariate.</p></li>
<li><p>Added the <code>analysesToExclude</code> argument to <code><a href="../reference/runSccsAnalyses.html">runSccsAnalyses()</a></code>, allowing the users to specify exposure-outcome-analysis combinations to exclude from execution.</p></li>
<li><p>Fixing seed for regularization cross-validation to improve reproducibility.</p></li>
<li><p>Added the <code><a href="../reference/computeTimeStability.html">computeTimeStability()</a></code> function.</p></li>
</ol></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="3.1.0" id="selfcontrolledcaseseries-310">SelfControlledCaseSeries 3.1.0<a class="anchor" aria-label="anchor" href="#selfcontrolledcaseseries-310"></a></h2>
<p>Changes</p>
<ol style="list-style-type: decimal"><li><p>Adding likelihood profile to SCCS model objects if <code>profileLikelihood</code> argument is set to <code>TRUE</code> when calling <code><a href="../reference/createEraCovariateSettings.html">createEraCovariateSettings()</a></code>.</p></li>
<li><p>Deprecating <code>oracleTempSchema</code> argument in favor of <code>tempEmulationSchema</code> in accordance with new <code>SqlRender</code> convention.</p></li>
<li><p>Adding optional <code>title</code> argument to all plotting functions.</p></li>
<li><p>Adding <code>highlightExposedEvents</code> argument to <code>plotExposureCentered</code> function.</p></li>
<li><p>Switching power calculation default method to signed root likelihood ratio as recommended by Musonda et al. (2005).</p></li>
</ol><p>BugFixes</p>
<ol style="list-style-type: decimal"><li><p>Prevent error when excluding variable not in data from regularization.</p></li>
<li><p>Removing unexposed subjects when computing power to avoid overestimating statistical power.</p></li>
</ol></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="3.0.0" id="selfcontrolledcaseseries-300">SelfControlledCaseSeries 3.0.0<a class="anchor" aria-label="anchor" href="#selfcontrolledcaseseries-300"></a></h2>
<p>Changes</p>
<ol style="list-style-type: decimal"><li><p>Adding the self-controlled risk interval design.</p></li>
<li><p>Downloading person and observation period IDs as strings to avoid issues with 64-bit integers. (These IDs are not used by SCCS, and are used for reference only).</p></li>
<li><p>Outputting log likelihood ratio as part of estimates.</p></li>
<li><p>Computing meta-data on covariates.</p></li>
</ol><p>BugFixes</p>
<ol style="list-style-type: decimal"><li><p>Fixed syntax error in SQL when using a nesting cohort.</p></li>
<li><p>Fixing error when sampled cohort is empty.</p></li>
<li><p>Fixing nesting.</p></li>
<li><p>Attrition table now also includes lines where remaining count is zero.</p></li>
<li><p>Fixing custom covariates download.</p></li>
<li><p>Fixing error on Oracle due to long temp table name.</p></li>
<li><p>Fixing computation of confidence intervals (CIs) when not all estimates for which CIs are computed have data.</p></li>
</ol></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.0.0" id="selfcontrolledcaseseries-200">SelfControlledCaseSeries 2.0.0<a class="anchor" aria-label="anchor" href="#selfcontrolledcaseseries-200"></a></h2>
<p>Changes</p>
<ol style="list-style-type: decimal"><li><p>Switching from ff to Andromeda for storing large data objects.</p></li>
<li><p>Making creation of the study population a separate step, with the new <code>createStudyPopulation</code> function.</p></li>
<li><p>The data on cohorts, exposure, and outcome eras retrieved from the database is now consistently referred to as ‘eras’. Data transformed to non-overlapping intervals is now referred to as ‘sccsIntervalData’.</p></li>
<li><p>Adding tracking of attrition.</p></li>
<li><p>Automatically removing age spline if selected censoring model already adjusts for age.</p></li>
</ol><p>BugFixes</p>
<ol style="list-style-type: decimal"><li><p>Generating sequential case IDs instead of observation period IDs to avoid collisions due to loss of precision when converting BIGINT to R’s numeric.</p></li>
<li><p>Added more heuristics to detect ill-behaving censoring functions when adjusting for event-dependent censoring.</p></li>
</ol></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.4.2" id="selfcontrolledcaseseries-142">SelfControlledCaseSeries 1.4.2<a class="anchor" aria-label="anchor" href="#selfcontrolledcaseseries-142"></a></h2>
<p>Bugfixes</p>
<ol style="list-style-type: decimal"><li><p>Fixed errors introduced by R 4.0.0.</p></li>
<li><p>Gracefully handling when fitting the outcome model hits the max number of iterations.</p></li>
</ol></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.4.1" id="selfcontrolledcaseseries-141">SelfControlledCaseSeries 1.4.1<a class="anchor" aria-label="anchor" href="#selfcontrolledcaseseries-141"></a></h2>
<p>Bugfixes</p>
<ol style="list-style-type: decimal"><li><p>Several workaround for issues with the ff package.</p></li>
<li><p>Fixed bug causing age to be read incorrectly when creating eras.</p></li>
</ol></div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Martijn Schuemie, Patrick Ryan, Trevor Shaddox, Marc Suchard.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

