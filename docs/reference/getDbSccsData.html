<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Load data for SCCS from the database — getDbSccsData • SelfControlledCaseSeries</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Load data for SCCS from the database — getDbSccsData"><meta name="description" content="Load all data needed to perform an SCCS analysis from the database."><meta property="og:description" content="Load all data needed to perform an SCCS analysis from the database."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">SelfControlledCaseSeries</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">6.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/MultipleAnalyses.html">Running multiple analyses at once using the SelfControlledCaseSeries package</a></li>
    <li><a class="dropdown-item" href="../articles/ResultsSchema.html">Results schema of the SelfControlledCaseSeries package</a></li>
    <li><a class="dropdown-item" href="../articles/SingleStudies.html">Single studies using the SelfControlledCaseSeries package</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://ohdsi.github.io/Hades"><img src='https://ohdsi.github.io/Hades/images/hadesMini.png' width=80 height=17 style='vertical-align: top;'></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/OHDSI/SelfControlledCaseSeries/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Load data for SCCS from the database</h1>
      <small class="dont-index">Source: <a href="https://github.com/OHDSI/SelfControlledCaseSeries/blob/HEAD/R/DataLoadingSaving.R" class="external-link"><code>R/DataLoadingSaving.R</code></a></small>
      <div class="d-none name"><code>getDbSccsData.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Load all data needed to perform an SCCS analysis from the database.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">getDbSccsData</span><span class="op">(</span></span>
<span>  <span class="va">connectionDetails</span>,</span>
<span>  <span class="va">cdmDatabaseSchema</span>,</span>
<span>  tempEmulationSchema <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"sqlRenderTempEmulationSchema"</span><span class="op">)</span>,</span>
<span>  outcomeDatabaseSchema <span class="op">=</span> <span class="va">cdmDatabaseSchema</span>,</span>
<span>  outcomeTable <span class="op">=</span> <span class="st">"condition_era"</span>,</span>
<span>  <span class="va">outcomeIds</span>,</span>
<span>  exposureDatabaseSchema <span class="op">=</span> <span class="va">cdmDatabaseSchema</span>,</span>
<span>  exposureTable <span class="op">=</span> <span class="st">"drug_era"</span>,</span>
<span>  customCovariateDatabaseSchema <span class="op">=</span> <span class="va">cdmDatabaseSchema</span>,</span>
<span>  customCovariateTable <span class="op">=</span> <span class="st">"cohort"</span>,</span>
<span>  nestingCohortDatabaseSchema <span class="op">=</span> <span class="va">cdmDatabaseSchema</span>,</span>
<span>  nestingCohortTable <span class="op">=</span> <span class="st">"cohort"</span>,</span>
<span>  <span class="va">getDbSccsDataArgs</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-connectiondetails">connectionDetails<a class="anchor" aria-label="anchor" href="#arg-connectiondetails"></a></dt>
<dd><p>An R object of type <code>ConnectionDetails</code> created using
the function <code><a href="https://ohdsi.github.io/DatabaseConnector/reference/createConnectionDetails.html" class="external-link">DatabaseConnector::createConnectionDetails()</a></code> function.</p></dd>


<dt id="arg-cdmdatabaseschema">cdmDatabaseSchema<a class="anchor" aria-label="anchor" href="#arg-cdmdatabaseschema"></a></dt>
<dd><p>The name of the database schema that contains the OMOP CDM
instance.  Requires read permissions to this database. On SQL
Server, this should specify both the database and the
schema, so for example 'cdm_instance.dbo'.</p></dd>


<dt id="arg-tempemulationschema">tempEmulationSchema<a class="anchor" aria-label="anchor" href="#arg-tempemulationschema"></a></dt>
<dd><p>Some database platforms like Oracle and Impala do not truly support
temp tables. To emulate temp tables, provide a schema with write
privileges where temp tables can be created.</p></dd>


<dt id="arg-outcomedatabaseschema">outcomeDatabaseSchema<a class="anchor" aria-label="anchor" href="#arg-outcomedatabaseschema"></a></dt>
<dd><p>The name of the database schema that is the location where
the data used to define the outcome cohorts is available. If
<code>outcomeTable = "condition_era"</code>, <code>outcomeDatabaseSchema</code> is not
used.  Requires read permissions to this database.</p></dd>


<dt id="arg-outcometable">outcomeTable<a class="anchor" aria-label="anchor" href="#arg-outcometable"></a></dt>
<dd><p>The table name that contains the outcome cohorts.  If
<code>outcomeTable</code> is not <code>"condition_era"</code>,
then expectation is <code>outcomeTable</code> has format of cohort table (see
details).</p></dd>


<dt id="arg-outcomeids">outcomeIds<a class="anchor" aria-label="anchor" href="#arg-outcomeids"></a></dt>
<dd><p>A list of IDs used to define outcomes.  If <code>outcomeTable</code> is not
<code>"condition_era"</code> the list contains records found in the
<code>cohort_definition_id</code> field.</p></dd>


<dt id="arg-exposuredatabaseschema">exposureDatabaseSchema<a class="anchor" aria-label="anchor" href="#arg-exposuredatabaseschema"></a></dt>
<dd><p>The name of the database schema that is the location where
the exposure data used to define the exposure eras is
available. If <code>exposureTable = "drug_era"</code>,
<code>exposureDatabaseSchema</code> is not used but assumed to be equal to
<code>cdmDatabaseSchema</code>.  Requires read permissions to this database.</p></dd>


<dt id="arg-exposuretable">exposureTable<a class="anchor" aria-label="anchor" href="#arg-exposuretable"></a></dt>
<dd><p>The tablename that contains the exposure cohorts.  If
<code>exposureTable</code> is not "drug_era", then expectation is <code>exposureTable</code>
has format of a cohort table (see details).</p></dd>


<dt id="arg-customcovariatedatabaseschema">customCovariateDatabaseSchema<a class="anchor" aria-label="anchor" href="#arg-customcovariatedatabaseschema"></a></dt>
<dd><p>The name of the database schema that is the location where
the custom covariate data is available.</p></dd>


<dt id="arg-customcovariatetable">customCovariateTable<a class="anchor" aria-label="anchor" href="#arg-customcovariatetable"></a></dt>
<dd><p>Name of the table holding the custom covariates. This table
should have the same structure as the cohort table (see details).</p></dd>


<dt id="arg-nestingcohortdatabaseschema">nestingCohortDatabaseSchema<a class="anchor" aria-label="anchor" href="#arg-nestingcohortdatabaseschema"></a></dt>
<dd><p>The name of the database schema that is the location
where the nesting cohort is defined.</p></dd>


<dt id="arg-nestingcohorttable">nestingCohortTable<a class="anchor" aria-label="anchor" href="#arg-nestingcohorttable"></a></dt>
<dd><p>Name of the table holding the nesting cohort. This table
should have the same structure as the cohort table (see details).</p></dd>


<dt id="arg-getdbsccsdataargs">getDbSccsDataArgs<a class="anchor" aria-label="anchor" href="#arg-getdbsccsdataargs"></a></dt>
<dd><p>An object of type <code>GetDbSccsDataArgs</code> as created by the <code><a href="createGetDbSccsDataArgs.html">createGetDbSccsDataArgs()</a></code>
function.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>An <a href="SccsData-class.html">SccsData</a> object.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This function downloads several types of information:</p><ul><li><p>Information on the occurrences of the outcome(s) of interest. Note that information for
multiple outcomes can be fetched in one go, and later the specific outcome can be specified
for which we want to build a model.</p></li>
<li><p>Information on the observation time and age for the people with the outcomes.</p></li>
<li><p>Information on exposures of interest which we want to include in the model.</p></li>
</ul><p>Five different database schemas can be specified, for five different types of information: The</p><ul><li><p><strong>cdmDatabaseSchema</strong> is used to extract patient age and observation period. The</p></li>
<li><p><strong>outcomeDatabaseSchema</strong> is used to extract information about the outcomes, the</p></li>
<li><p><strong>exposureDatabaseSchema</strong> is used to retrieve information on exposures, and the</p></li>
<li><p><strong>customCovariateDatabaseSchema</strong> is optionally used to find additional, user-defined
covariates. All four locations could point to the same database schema.</p></li>
<li><p><strong>nestingCohortDatabaseSchema</strong> is optionally used to define a cohort in which the analysis is nested,
for example a cohort of diabetics patients.</p></li>
</ul><p>All five locations could point to the same database schema.</p>
<p>Cohort tables are assumed to have the following fields: <code>cohort_definition_id</code>, <code>subject_id</code>,
<code>cohort_start_date</code>, and <code>cohort_end_date.</code></p>
    </div>
    <div class="section level2">
    <h2 id="study-period-start-and-end-dates">Study period start and end dates<a class="anchor" aria-label="anchor" href="#study-period-start-and-end-dates"></a></h2>


<p>A study start and end date define a period when patient data will be included in the
analysis. Multiple non-overlapping periods can be defined, which for example will allow
for excluding the time of the COVID pandemic, when most outcome rates were unstable.</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Martijn Schuemie, Patrick Ryan, Trevor Shaddox, Marc Suchard.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

